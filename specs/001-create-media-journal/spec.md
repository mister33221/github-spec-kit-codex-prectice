# Feature Specification: 影視觀影紀錄社群平台

**Feature Branch**: `001-create-media-journal`  
**Created**: 2025-11-15  
**Status**: Draft  
**Input**: 我想要建立一個專案，紀錄個人觀看影視作品的紀錄、心得、有價值的台詞及評論，並導入社群互動、標籤討論與專業用戶追蹤等功能，整體風格需為暗色系、簡約且具未來感。

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 建立個人觀影筆記 (Priority: P1)

身為影視愛好者，我需要快速記錄觀影作品、年份、評分與心得，並整理成可瀏覽的個人版面。

**Why this priority**: 沒有筆記能力就無法提供任何價值，是平台 MVP。

**Independent Test**: 使用者可以在 2 分鐘內建立並編輯一篇觀影紀錄，且個人版面同步更新。

**Acceptance Scenarios**:

1. **Given** 使用者登入深色主題介面，**When** 在「新增紀錄」輸入作品、年份、標籤、評分與心得後儲存，**Then** 系統儲存紀錄並導向詳細頁，展示所有欄位及引用區塊。
2. **Given** 使用者已有紀錄，**When** 編輯心得與引用順序，**Then** 系統保留更動歷史並即時更新個人版面卡片摘要。

---

### User Story 2 - 標籤化討論與回覆 (Priority: P2)

身為想交流的社群成員，我想在特定作品或標籤下開討論串、引用他人文字並回覆。

**Why this priority**: 社群互動是增加留存的次核心能力。

**Independent Test**: 兩名使用者可在同一標籤下發文與回覆，且都能即時看到對方留言。

**Acceptance Scenarios**:

1. **Given** 作品詳情頁綁定「2024」「科幻」標籤，**When** 使用者在標籤討論區張貼心得或提問，**Then** 該貼文同時出現在作品頁與該標籤聚合牆，並可被回覆。
2. **Given** 第二位使用者閱讀該貼文，**When** 以引用模式選取原作者句子並回覆，**Then** 系統顯示階層化回覆並通知原作者。

---

### User Story 3 - 專業用戶追蹤與專注 (Priority: P3)

身為一般觀眾，我希望追蹤專業評影人、聚焦查看其紀錄與加權評分，並在他們發佈新內容時收到通知。

**Why this priority**: 強化平台「專業 vs 大眾」內容差異，形成可信評價網。

**Independent Test**: 使用者可追蹤一位標記為專業的帳號，並在對方發佈新紀錄後 6 小時內收到站內通知。

**Acceptance Scenarios**:

1. **Given** 某專業用戶已被標記為「可信評影人」，**When** 我點擊「專注」並設定通知頻率，**Then** 系統將其加入我的專注清單並於新紀錄發布時送出站內提醒。
2. **Given** 我切換到專注頁，**When** 使用「只看專業評分」篩選，**Then** 只顯示被專注對象的最新紀錄與平均評價。

---

### User Story 4 - 高價值台詞牆 (Priority: P2)

身為收藏金句的影迷，我希望看到社群最常收藏的引用牆，並能回到原始討論或紀錄。

**Why this priority**: 高價值引用可帶動分享與再討論，是與一般筆記 App 的差異化。

**Independent Test**: 收藏一段台詞後，可在台詞牆看到該引用、收藏數及來源連結。

**Acceptance Scenarios**:

1. **Given** 我在觀影紀錄中收藏一段台詞，**When** 開啟台詞牆，**Then** 牆面顯示引用內容、收藏者與相關標籤，並提供返回原紀錄的入口。
2. **Given** 某引用被多人收藏，**When** 切換排序為「最多收藏」，**Then** 列表依收藏數量降冪顯示並標示討論入口。

---

### Edge Cases

- 相同作品不同年份或重映時須允許多版本並提示合併。
- 引用台詞超過字數限制時提供截斷預覽與原文附件以供審核。
- 討論串遭檢舉時僅下架單一回覆並保留審核紀錄，24 小時內處理完畢。
- 專注清單達上限時需提示整理或引導升級方案，避免靜默失敗。
- 無作品封面時需自動配色與佔位圖，確保深色主題版面不破版。

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系統必須提供登入後的「新增觀影紀錄」流程，欄位包含作品、年份、來源、評分、觀看日期、心得正文與最多三則重點台詞。
- **FR-002**: 紀錄儲存後需生成卡片摘要並同步更新個人版面時間軸。
- **FR-003**: 每筆紀錄可附帶標籤（作品類型、年份、語言、評分區段），標籤需支援建立、搜尋與批量套用。
- **FR-004**: 作品詳情頁需顯示社群討論串，支援層級化回覆、引用、@ 提及與 Markdown 格式。
- **FR-005**: 討論串資料需即時刷新或於 5 秒內輪詢，並記錄時間戳與作者。
- **FR-006**: 個人版面需彙整統計（本月觀影數、平均評分、常用標籤）與公開/半公開/私人可見性設定。
- **FR-007**: 系統必須提供「專注」功能，讓使用者可追蹤特定評影者並設定通知頻率，通知通道限定為站內通知。
- **FR-008**: 介面預設深色與未來感樣式，並提供高對比深色與亮色兩種主題，符合 AA 對比要求。
- **FR-009**: 搜尋/瀏覽需支援作品、年份、作品類型、標籤組合與綜合評分區間等複合篩選，結果可排序。
- **FR-010**: 建立「高價值台詞牆」聚合社群收藏最多的引用，標示收藏者、出處與相關討論入口。
- **FR-011**: 建立「專業檔案標章」流程：系統依指標推薦名單，再由管理員核發徽章並在用戶卡片與討論串中展示。

### Key Entities

- **作品（Work）**：儲存影視資料（標題、年份、導演、海報、類型、官方評分類）並連結觀影紀錄與討論串。
- **觀影紀錄（ViewingEntry）**：個人對單一作品的紀錄，含觀看時間、評分、心得、引用、可見性與標籤。
- **引用（QuoteHighlight）**：連結到觀影紀錄，含原文、譯文、劇中時間戳，可被收藏或引用於討論。
- **用戶檔案（Profile）**：儲存角色（一般/專業）、統計數據、專注清單與公開設定。
- **討論串（Thread/Reply）**：附著於作品或標籤的主題貼文，支援多層回覆、引用、按讚與檢舉。
- **專注（FocusSubscription）**：紀錄追蹤關係與通知頻率。
- **通知（Notification）**：紀錄專注、新回覆等事件與已讀狀態。
- **專業標章（Badge/ModerationCase）**：追蹤推薦名單、審核進度與結果。

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 90% 的受測者可在 90 秒內完成包含心得與台詞的觀影紀錄，並於個人版面看到摘要。
- **SC-002**: 在作品或標籤頁使用複合篩選時，80% 的查詢需於 1 秒內返回結果並顯示準確計數。
- **SC-003**: 被追蹤的專業用戶每次發布新紀錄後，至少 70% 的專注用戶於 6 小時內收到並查看通知，通知遺失率低於 5%。
- **SC-004**: 上線後 30 天內，每位新註冊用戶平均參與至少 2 次討論或回覆，使社群互動率達 60% 以上並在報表中可查。
